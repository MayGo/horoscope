// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema


generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}       

enum HoroscopeAge {
  Today
  Tomorrow
}

enum HoroscopeLength {
  Short
  Medium
  Long
}

enum TimeOfDay {
  T00_00
  T01_00
  T02_00
  T03_00
  T04_00
  T05_00
  T06_00
  T07_00
  T08_00
  T09_00
  T10_00
  T11_00
  T12_00
  T13_00
  T14_00
  T15_00
  T16_00
  T17_00
  T18_00
  T19_00
  T20_00
  T21_00
  T22_00
  T23_00
}

enum HoroscopeSign {
  Aries
  Taurus
  Gemini
  Cancer
  Leo
  Virgo
  Libra
  Scorpio
  Sagittarius
  Capricorn
  Aquarius
  Pisces
}

model User {
  id                Int      @id @default(autoincrement())
  email             String   @unique
  name              String?
  emailTime         TimeOfDay?
  horoscopeAge      HoroscopeAge @default(Today)
  horoscopeLength   HoroscopeLength @default(Short)
  sign              HoroscopeSign @default(Aries)

  // Personal Information
  countryOfBirth    String?
  dateOfBirth       DateTime?
  timeOfBirth       TimeOfDay?

  isAdmin           Boolean  @default(false)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

// model UserDailyHoroscope {
//   id            Int      @id @default(autoincrement())
//   jsonResponse  String
//   user          User     @relation(fields: [userId], references: [id])
//   userId        Int
//   creator       User     @relation("CreatorRelation", fields: [creatorId], references: [id])
//   creatorId     Int
//   createdAt     DateTime @default(now())
//   updatedAt     DateTime @updatedAt
// }

model DailyHoroscope {
  id            Int            @id @default(autoincrement())
  forDate          DateTime
  horoscopeText String
  sign          HoroscopeSign
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
}